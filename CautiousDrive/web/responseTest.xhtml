<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Cautious Drive</title>
        <meta charset="utf-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"></link>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css"></link>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
        
        <style>
            body {
            font-family: Verdana, Geneva, sans-serif;
        }

        #box {
            width: 200px;
            height: 200px;
            background-color: blue;
            display: none;
            position: relative; 
        }   
        
    </style>
    
        
           
    </h:head>
    
    <h:body style="background-image:url('/CautiousDrive/navigation.jpg'); background-size:cover">
           
        <nav class="navbar navbar-inverse">
            <div class="container-fluid" style="float:left; margin-left:0px; padding-left:0px; display: inline-block; vertical-align:">
                <div class="navbar-header" >
                    <a class="navbar-brand" href="/CautiousDrive/index.xhtml" style="font-size:25px; margin-left:0px; float:left">Cautious Drive</a>
                </div>    
                <ul class="nav navbar-nav" style="font-size:20px; display: inline-block; vertical-align:">
                <li><a href="/CautiousDrive/index.xhtml">Home</a></li>
                <li class="active"> <a href="/CautiousDrive/responseTest.xhtml">Response Test</a></li>
                <li> <a href="/CautiousDrive/memoryTest.xhtml">Memory Test</a></li>
                </ul>
<!--                <form class="navbar-form navbar-left" action="/action_page.php" style="padding-left: 800px">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search..." name="search" style="font-size:20px; width: 400px"></input>
                        <div class="input-group-btn" style="padding-right:0px">
                            <button class="btn btn-default" type="submit">
                                <i class="glyphicon glyphicon-search"></i>
                            </button>
                        </div>
                    </div>
                </form>-->
            </div>
        </nav>
       
        <div style="padding-top: 50px; font-size:20px; padding-left:5px">
                <h1>Test your reaction time!</h1>
                <p>Click on the boxes and circles as quickly as you can. Your reaction time will be posted below: </p>
                <p id="printReactionTime"></p>
                <p id="averageReactionTime"></p>
                <div id="box" style="padding-top: 50px;"></div> 
        </div>    
            
<!--        <div>
        
        <iframe width="100%" height="100%"  src="/CautiousDrive/response.html"></iframe>    
            
        </div>  -->
        <script type="text/javascript">
        //<![CDATA[  
        function getRandomColor() {

				var letters = "0123456789ABCDEF".split('');
				var color = "#";
                                //var responseTimeList = [];
				for(var i = 0; i < 6; i++){
					color += letters[Math.round(Math.random()*15)];
				} //ends for loop 
				return color; 
			
			
			} // ends getRandomColor Function
		
		
			var clickedTime; 
                        var createdTime; 
                        var reactionTime; 				
                        var clickCount = 0;
                        var averageTime = 0;
		
			function makeBox() {
                            
					var time=Math.random();
					time=time*3000;
				
				setTimeout(function() {
				
					if (Math.random()>0.5) {
					
						document.getElementById("box").style.borderRadius="100px";
						
						} else {
						
							document.getElementById("box").style.borderRadius="0";
						}
						
					var top= Math.random();
						top= top*300;
					var left= Math.random();
						left= left*500; 
						
//					document.getElementById("box").style.top = top + "px";
//					document.getElementById("box").style.left = left + "px"; 
                                        
                                        document.getElementById("box").style.top = "300px";
					document.getElementById("box").style.left = "50%"; 
                                        
                                        
					document.getElementById("box").style.backgroundColor=getRandomColor();
				
					document.getElementById("box").style.display="block";
					
					createdTime=Date.now();
					
				}, time); 
			
			}
			
                        
                        
                        
                              if(clickCount <= 9){
				makeBox();
                              }
                        
                        
			document.getElementById("box").onclick=function () {
			
				clickedTime=Date.now();
				
				reactionTime=(clickedTime-createdTime)/1000;
                                
                                //responseTimeList.push(reactionTime); 
				
				document.getElementById("printReactionTime").innerHTML="Your Reaction Time is: " + reactionTime + "seconds";
				
				this.style.display="none";
                                
                                clickCount = clickCount + 1;
                                
                                averageTime = averageTime + reactionTime;
                                
                                
                               
                               if(clickCount > 9){
                                
                                averageTime = averageTime / 10;
                                document.getElementById("averageReactionTime").innerHTML="Your Average Reaction Time is: " + averageTime + "seconds";
//                                clickCount = 0;
//                                averageTime = 0;
//                                  window.location.href = "/CautiousDrive/memoryTest.xhtml";   
                               setTimeout(function(){window.location.href = "/CautiousDrive/memoryTest.xhtml"; }, 1000);
                               
                             }
                               
                               makeBox(); 
                                
				
			};
			
//			makeBox(); 
		//]]>	
    </script>
<!--
        <div style="padding-top: 200px">
        <center>
            <button onclick="location.href='/CautiousDrive/memoryTest.xhtml'" class="btn btn-primary" style="font-size:25px;margin-top:30px">Next</button>
        </center>  
        </div>
        -->
        

        
        
        
        
        
<!--        <div style="margin-top: 20px">
        <center>
            <button onclick="location.href='/NativeAnimals/user/rescueRecords.xhtml'" class="btn btn-primary" style="font-size:25px;margin-top:30px">User Login</button>
        </center>
        </div>-->

        
        



    </h:body>
    
    
    
    
</html>
